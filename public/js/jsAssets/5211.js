"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5211],{95211:(t,s,e)=>{e.r(s),e.d(s,{default:()=>l});var o=e(80377);const n={name:"Votes",data:function(){return{votes:[],displayResults:[],colors:["light-blue","light-green darken-4","lime","deep-orange"]}},methods:{getResult:function(t){},initialize:function(){var t=this.$cookie.get("votes")?JSON.parse(this.$cookie.get("votes")):null;t&&(this.displayResults=t)},getQuestions:function(){var t=this;o.Z.readVotesForFront().then((function(s){t.votes=s.data.data}))},answer:function(t,s){if(s){var e=this;axios.post("/api/v1/votescount/"+t,{answer:s,_method:"put"}).then((function(s){!0===s.data.success&&(e.getQuestions(),e.displayResults.push(t),e.$cookie.set("votes",JSON.stringify(e.displayResults),1))}))}}},created:function(){var t=this;this.$store.commit("setLoading",!0),setTimeout((function(){t.initialize(),t.getQuestions()}),1e3),this.$store.commit("setLoading",!1)}},a=n;const l=(0,e(51900).Z)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"votes mt-15"},[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("h3",{staticClass:"votes-title"},[t._v(t._s(t.$t("Сўровнома")))]),t._v(" "),e("p",{staticClass:"my-5 font-italic "},[t._v(t._s(t.$t("Божхона соҳасига оид сўровномаларда иштирок этинг")))])]),t._v(" "),e("v-col",{attrs:{cols:"9"}},[e("v-row",[e("v-list",t._l(t.votes,(function(s,o){return e("v-list-item",{key:o},[e("v-col",{attrs:{cols:"12"}},[e("h4",[t._v("\n                                    "+t._s(s.question)+"\n                                ")]),t._v(" "),t.displayResults.includes(t.votes[o].id)?[t._l(t.votes[o].answers,(function(s,n){return[e("div",{staticClass:"my-5",attrs:{data:t.votes[o].answers[n].count/t.votes[o].total*100}},[e("p",[t._v(t._s(t.votes[o].answers[n].text)+"\n                                                "),e("v-btn",{attrs:{"x-small":"",color:"#4e4646"}},[t._v("\n                                                    "+t._s(s.count?s.count:0)+"\n                                                ")])],1),t._v(" "),e("v-progress-linear",{key:n,staticClass:"my-3 white--text font-weight-bold",attrs:{value:t.votes[o].answers[n].count/t.votes[o].total*100,color:t.colors[n%t.colors.length],striped:"",rounded:"",height:"20"},scopedSlots:t._u([{key:"default",fn:function(s){var o=s.value;return[e("strong",[t._v(t._s(Math.ceil(o))+"%")])]}}],null,!0)})],1)]})),t._v(" "),e("p",{staticStyle:{"border-top":"1px solid #cccccc4d","padding-top":"15px","margin-top":"25px"}},[t._v("\n                                        "+t._s(t.$t("Барчаси"))+"\n                                        "),e("v-btn",{attrs:{"x-small":"",color:"#4e4646"}},[t._v(t._s(t.votes[o].total))])],1)]:[e("v-radio-group",{attrs:{dense:""},model:{value:t.votes[o].selected,callback:function(s){t.$set(t.votes[o],"selected",s)},expression:"votes[key].selected"}},t._l(s.answers,(function(t,s){return e("v-radio",{key:s,attrs:{label:t.text,value:t.value}})})),1),t._v(" "),e("div",{staticClass:"text-center flex-direction-nav d-flex"},[e("v-btn",{staticClass:"ma-2",attrs:{color:"primary",small:""},on:{click:function(s){return t.answer(t.votes[o].id,t.votes[o].selected)}}},[t._v("\n                                            "+t._s(t.$t("Жавоб бериш"))+"\n                                        ")]),t._v(" "),e("v-btn",{staticClass:"ma-2",attrs:{color:"primary",small:""},on:{click:function(s){return t.getResult(t.votes[o].id)}}},[t._v("\n                                            "+t._s(t.$t("Натижалар"))+"\n                                        ")])],1)],t._v(" "),e("hr")],2)],1)})),1)],1)],1),t._v(" "),e("v-col",{attrs:{cols:"3"}})],1)],1)],1)}),[],!1,null,null,null).exports}}]);