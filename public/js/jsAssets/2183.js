"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2183],{65280:(t,e,s)=>{s.d(e,{Z:()=>n});var a=s(23645),l=s.n(a)()((function(t){return t[1]}));l.push([t.id,".opendataItem:after{border:none!important}",""]);const n=l},52183:(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});var a=s(80377);const l={name:"OpenDatas",data:function(){return{items:[],panel:null,search:null,page:1,length:1,years:[],sFiles:null,year:null,quarter:null}},methods:{sendCommit:function(t,e,s){if(t&&e){var a=this.items.filter((function(t){return t.id===s}));a&&a[0]?(a[0].rating=null,a[0].text=null,this.$toast.success(this.$t("Маълумотлар омадли тарзда юборилди. Билдирган фикрингиз учун катта рахмат!"))):this.$toast.error(this.$t("Хатолик содир бўлди, қайтадан ҳаракат қилинг"))}else this.$toast.error(this.$t("Майдонларни тўлдириб қайтадан ҳаракат қилинг"))},headerClicked:function(t){t.prevent.stop,console.log(t)},getFile:function(t){window.location.href=t},getItem:function(t){var e=this;this.sFiles=null,a.Z.getOneOpenData(t,{quarter:this.quarter,year:this.year}).then((function(t){200===t.status&&(e.years=t.data.years,e.sFiles=t.data.data)}))},searchItems:function(){this.getItems({search:this.search})},getItems:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.Z.getOpenData(e).then((function(e){200===e.status&&(t.items=e.data.data,t.length=e.data.total)}))}},created:function(){this.getItems()},watch:{year:{handler:function(t,e){this.getItem(this.items[this.panel].id)}},quarter:{handler:function(t,e){this.year&&this.getItem(this.items[this.panel].id)}},page:{handler:function(t,e){this.getItems({page:this.page})}}}};var n=s(93379),i=s.n(n),r=s(65280),o={insert:"head",singleton:!1};i()(r.Z,o);r.Z.locals;const c=(0,s(51900).Z)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section"},[s("div",{staticClass:"row"},[s("h3",{staticClass:"text-center section_title mb-0"},[t._v(t._s(t.$t("Очиқ маълумотлар")))])]),t._v(" "),s("v-container",[s("v-row",{staticClass:"mt-6"},[s("v-col",{attrs:{cols:"10"}},[s("v-text-field",{staticStyle:{border:"1px solid var(--mycolor)"},attrs:{dense:"",solo:"","hide-details":"",elevation:"0",placeholder:t.$t("Қидириш учун ёзинг"),clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),s("v-col",{attrs:{cols:"2"}},[s("v-btn",{staticClass:"py-2",staticStyle:{"background-color":"#39ae691f !important",color:"var(--mycolor)",border:"1px solid",height:"40px",padding:"25px","margin-top":"-1px"},attrs:{color:"primary",block:"",depressed:""},on:{click:function(e){return t.searchItems()}}},[t._v(t._s(t.$t("Излаш"))+"\n                ")])],1)],1),t._v(" "),s("v-row",{staticClass:"px-2"},[s("v-col",{staticClass:"pa-0",staticStyle:{"border-bottom":"1px solid #ccc"},attrs:{cols:"12"}},[s("v-list-item",{attrs:{color:"primary"}},[t._v(t._s(t.$t("Маълумотлар сони"))+": "+t._s(t.length)+" та")])],1)],1),t._v(" "),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-expansion-panels",{attrs:{accordion:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},t._l(t.items,(function(e,a){return s("v-expansion-panel",{key:a,staticClass:"my-2 opendataItem",staticStyle:{"border-radius":"10px",border:"none !important"}},[s("v-expansion-panel-header",{staticClass:"pb-0 pl-8",attrs:{"hide-actions":""},nativeOn:{click:function(s){s.stopPropagation(),t.panel===a&&t.getItem(e.id)}}},[s("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-between","align-items":"stretch","padding-bottom":"10px"},style:t.panel===a?"border-bottom:1px solid var(--mycolor)":""},[s("div",[t._v(t._s(e.title))]),t._v(" "),t.panel!==a&&e.files?[s("div",{staticClass:"d-flex justify-content-end"},[s("v-btn",{staticClass:"mx-1",attrs:{color:"primary","x-small":""},nativeOn:{click:function(s){return s.stopPropagation(),t.getFile(e.files.xml)}}},[t._v("xml")]),t._v(" "),s("v-btn",{staticClass:"mx-1",attrs:{color:"primary","x-small":""},nativeOn:{click:function(s){return s.stopPropagation(),t.getFile(e.files.csv)}}},[t._v("csv")]),t._v(" "),s("v-btn",{staticClass:"mx-1",attrs:{color:"primary","x-small":""},nativeOn:{click:function(s){return s.stopPropagation(),t.getFile(e.files.json)}}},[t._v("json")]),t._v(" "),s("v-btn",{staticClass:"mx-1",attrs:{color:"primary","x-small":""},nativeOn:{click:function(s){return s.stopPropagation(),t.getFile(e.files.xls)}}},[t._v("xls")]),t._v(" "),s("v-btn",{staticClass:"mx-1",attrs:{color:"primary","x-small":""},nativeOn:{click:function(s){return s.stopPropagation(),t.getFile(e.files.rdf)}}},[t._v("rdf")])],1)]:t._e()],2)]),t._v(" "),s("v-expansion-panel-content",[s("v-row",{staticClass:"pt-2"},[s("v-col",{attrs:{cols:"6"}},[s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("tbody",[s("tr",[s("td",[s("b",[t._v(t._s(t.$t("Масъул бошқарма"))+":")])]),t._v(" "),s("td",[t._v(t._s(e.boshqarma))])]),t._v(" "),s("tr",[s("td",[s("b",[t._v(t._s(t.$t("Масъул шахс"))+":")])]),t._v(" "),s("td",[t._v(t._s(e.contact))])]),t._v(" "),s("tr",[s("td",[s("b",[t._v(t._s(t.$t("Телефон"))+":")])]),t._v(" "),s("td",[t._v("+998"+t._s(e.phone))])]),t._v(" "),s("tr",[s("td",[s("b",[t._v(t._s(t.$t("Эл.манзил"))+":")])]),t._v(" "),s("td",[t._v(t._s(e.email))])])])]},proxy:!0}],null,!0)})],1),t._v(" "),s("v-col",{attrs:{cols:"6"}},[s("h6",{staticClass:"pr-15",staticStyle:{"line-height":"20px"}},[t._v(t._s(t.$t("Архивланган очиқ маълумотлар тўпламига кириш учун керакли йил ва чоракни танланг")))]),t._v(" "),s("v-row",{staticClass:"py-4"},[s("v-col",{attrs:{cols:"6"}},[s("v-autocomplete",{attrs:{solo:"",dense:"","hide-details":"",clearable:"",label:t.$t("Йилни танланг"),suffix:t.$t("йил"),items:t.years,"item-value":"year","item-text":"year"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1),t._v(" "),s("v-col",{attrs:{cols:"6"}},[s("v-autocomplete",{attrs:{solo:"",dense:"","hide-details":"",clearable:"",label:t.$t("Чоракни танланг"),items:[{text:"1 - "+t.$t("чорак"),value:1},{text:"2 - "+t.$t("чорак"),value:2},{text:"3 - "+t.$t("чорак"),value:3},{text:"4 - "+t.$t("чорак"),value:4},{text:t.$t("Йиллик"),value:null}]},model:{value:t.quarter,callback:function(e){t.quarter=e},expression:"quarter"}})],1)],1),t._v(" "),t.sFiles?s("div",{staticClass:"d-flex justify-content-end mt-2"},[s("v-btn",{staticClass:"mx-1",attrs:{color:"primary","x-small":""},nativeOn:{click:function(e){return e.stopPropagation(),t.getFile(t.sFiles.xml)}}},[t._v("xml")]),t._v(" "),s("v-btn",{staticClass:"mx-1",attrs:{color:"primary","x-small":""},nativeOn:{click:function(e){return e.stopPropagation(),t.getFile(t.sFiles.csv)}}},[t._v("csv")]),t._v(" "),s("v-btn",{staticClass:"mx-1",attrs:{color:"primary","x-small":""},nativeOn:{click:function(e){return e.stopPropagation(),t.getFile(t.sFiles.json)}}},[t._v("json")]),t._v(" "),s("v-btn",{staticClass:"mx-1",attrs:{color:"primary","x-small":""},nativeOn:{click:function(e){return e.stopPropagation(),t.getFile(t.sFiles.xls)}}},[t._v("xls")]),t._v(" "),s("v-btn",{staticClass:"mx-1",attrs:{color:"primary","x-small":""},nativeOn:{click:function(e){return e.stopPropagation(),t.getFile(t.sFiles.rdf)}}},[t._v("rdf")])],1):s("div",{staticClass:"d-flex justify-content-end mt-2"},[t._v("\n                                        "+t._s(t.$t("Маълумот топилмади"))+"\n                                    ")]),t._v(" "),s("div",[s("p",[t._v(t._s(t.$t("Рейтинг")))]),t._v(" "),s("p",{staticStyle:{"margin-left":"-10px"}},[s("v-rating",{attrs:{hover:"",length:"5",size:"20","background-color":"grey darken-1"},model:{value:e.rating,callback:function(s){t.$set(e,"rating",s)},expression:"item.rating"}})],1)]),t._v(" "),s("div",[s("p",[t._v(t._s(t.$t("Фикр қолдириш")))]),t._v(" "),s("p",[s("v-textarea",{staticClass:"my-2",attrs:{"auto-grow":"",outlined:"",rows:"1","row-height":"15","hide-details":""},model:{value:e.text,callback:function(s){t.$set(e,"text",s)},expression:"item.text"}})],1),t._v(" "),s("v-btn",{attrs:{color:"primary"},on:{click:function(s){return t.sendCommit(e.rating,e.text,e.id)}}},[t._v(t._s(t.$t("Юбориш")))])],1)],1)],1)],1)],1)})),1)],1)],1),t._v(" "),t.length>10?s("v-row",[s("div",{staticClass:"text-center"},[s("v-pagination",{attrs:{length:parseInt(t.length/10)+1,circle:""},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)]):t._e()],1)],1)}),[],!1,null,null,null).exports}}]);