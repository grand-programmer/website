"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2317],{84717:(t,e,i)=>{i.d(e,{Z:()=>o});var s=i(23645),n=i.n(s)()((function(t){return t[1]}));n.push([t.id,".news__img{display:block;margin-bottom:12px;overflow:hidden;padding-bottom:60%;position:relative;width:100%}.news__img img{display:block;height:100%;left:0;-o-object-fit:cover;object-fit:cover;position:absolute;top:0;transition:1s ease;width:100%}.news-item .news__title{color:#000}.news-item{margin-bottom:20px}.news-lenta{border-bottom:1px solid hsla(0,0%,77%,.8);cursor:pointer;display:inline-block;margin-bottom:18px;padding-bottom:18px}.news-meta{background:url(/img/calendar.svg) no-repeat 0;background-size:contain;color:#000;font-size:12px;margin-bottom:10px;opacity:.8;padding-left:20px}.news-meta>span{color:#8f8f8f;font-weight:300}.news-lenta__title{color:#000;font-size:14px;font-weight:600;line-height:21px;transition:.2s ease}.widget_tittle{border-bottom:2px solid #39ae69;padding-bottom:35px}.v-application .widget_tittle h3{color:#39ae69;font-size:25px;font-weight:700}.left_sidebar_widget{margin-top:30px}.single_layout-right{margin-top:40px}.news-item.col.col-4:hover{box-shadow:0 0 9px -6px #000}.single_blog_content img{max-width:100%}",""]);const o=n},72317:(t,e,i)=>{i.r(e),i.d(e,{default:()=>m});var s=i(87757),n=i.n(s),o=i(80377),a=i(49666);function r(t,e,i,s,n,o,a){try{var r=t[o](a),l=r.value}catch(t){return void i(t)}r.done?e(l):Promise.resolve(l).then(s,n)}function l(t){return function(){var e=this,i=arguments;return new Promise((function(s,n){var o=t.apply(e,i);function a(t){r(o,s,n,a,l,"next",t)}function l(t){r(o,s,n,a,l,"throw",t)}a(void 0)}))}}const c={name:"NewsShow",data:function(){return{breadcrumb_items:[{text:a.Z.t("Асосий саҳифа"),to:"/",disabled:!1,exact:!0},{text:a.Z.t("Янгиликлар"),to:"/news/",disabled:!1,exact:!0},{text:"",to:"/category/",disabled:!1,exact:!0},{text:"",to:"/news/",disabled:!0,exact:!0}],news:{},fab:!0,related_news:{},likes:[],dislikes:[],mdata:null}},watch:{$route:function(t,e){this.initialize()}},created:function(){var t=this;return l(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.initialize();case 1:case"end":return e.stop()}}),e)})))()},computed:{currentUrl:function(){return-1!==window.location.href.indexOf(this.$route.fullPath)?window.location.href.substr(0,window.location.href.indexOf(this.$route.fullPath))+this.$route.fullPath:window.location.href}},methods:{close:function(){this.$router.replace("/")},initialize:function(){var t=this;setTimeout(l(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.readOneNews(t.$route.params.slug).then((function(e){t.news=e.data.data,t.news.categories.length>0?(t.breadcrumb_items[2].text=t.news.categories[0].title,t.breadcrumb_items[2].to="/category/"+t.news.categories[0].slug,t.breadcrumb_items[3].text=t.news.title):(t.breadcrumb_items[2].text=t.news.title,t.breadcrumb_items[2].disabled=!0,t.breadcrumb_items.splice(3,1))})).catch((function(e){console.log(e),t.$toast.error(a.Z.t("Маълумотларни юклашда хатолик содир бўлди!"))}));case 2:return e.next=4,o.Z.readNews().then((function(e){t.related_news=e.data.data})).catch((function(e){console.log(e),t.$toast.error(a.Z.t("Маълумотларни юклашда хатолик содир бўлди1!"))}));case 4:case"end":return e.stop()}}),e)}))))},vote:function(t){var e=this,i=this;i.likes=this.$cookie.get("likes")?JSON.parse(this.$cookie.get("likes")):null,i.dislikes=this.$cookie.get("dislikes")?JSON.parse(this.$cookie.get("dislikes")):null;var s=!1;if(1===t){if(null!==i.likes&&i.likes.includes(i.news.id))return void this.$toast.warning(a.Z.t("Сиз аллақачон овоз бергансиз")+"!");null!==i.dislikes&&i.dislikes.includes(i.news.id)&&(s=!0),i.likes?this.$cookie.set("likes",JSON.stringify(i.likes.concat([i.news.id]))):this.$cookie.set("likes",JSON.stringify([i.news.id]))}if(0===t){if(null!==i.dislikes&&i.dislikes.includes(i.news.id))return void this.$toast.warning(a.Z.t("Сиз аллақачон овоз бергансиз")+"!");null!==i.likes&&i.likes.includes(i.news.id)&&(s=!0),i.dislikes?this.$cookie.set("dislikes",JSON.stringify(i.dislikes.concat([i.news.id]))):this.$cookie.set("dislikes",JSON.stringify([i.news.id]))}i.mdata={like:t},s&&(i.mdata.discount=1),setTimeout(l(n().mark((function o(){return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.post("/api/v1/news/"+i.news.id+"/vote",i.mdata).then((function(){var n,o;1===t&&(i.news.like=i.news.like+1,s&&(i.news.dislike=i.news.dislike-1,-1!==(null===(n=i.dislikes)||void 0===n?void 0:n.indexOf(i.news.id))&&(i.dislikes=i.dislikes.splice(i.news.id,1),e.$cookie.set("dislikes",JSON.stringify(i.dislikes)))));0===t&&(i.news.dislike=i.news.dislike+1,s&&(i.news.like=i.news.like-1,-1!==(null===(o=i.likes)||void 0===o?void 0:o.indexOf(i.news.id))&&(i.likes=i.likes.splice(i.news.id,1),e.$cookie.set("likes",JSON.stringify(i.likes)))))}));case 2:case"end":return n.stop()}}),o)}))))}}};var d=i(93379),u=i.n(d),w=i(84717),v={insert:"head",singleton:!1};u()(w.Z,v);w.Z.locals;const m=(0,i(51900).Z)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section page-container"},[i("div",{staticClass:"whitebreadcrumb breadcrumb-site"},[i("v-container",[i("v-breadcrumbs",{attrs:{items:t.breadcrumb_items},scopedSlots:t._u([{key:"divider",fn:function(){return[i("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}])})],1)],1),t._v(" "),i("v-container",{staticClass:"news-container"},[i("v-row",[i("v-col",{attrs:{cols:9}},[i("div",{staticClass:"single_blog_content"},[i("div",{staticClass:"widget_tittle"},[i("h3",[t._v(t._s(t.news.title))])]),t._v(" "),i("v-row",{staticStyle:{height:"40px",width:"100%"}}),t._v(" "),i("v-row",[i("div",{staticClass:"d-flex justify-content-between align-items-center",staticStyle:{"margin-top":"-40px"}},[i("div",{staticClass:"d-flex align-items-center justify-content-center mr-2"},[i("span",{staticClass:"primary-color cursor-pointer mr-1 ",staticStyle:{"font-size":"18px"}},[t._v("Улашинг")]),t._v(" "),i("v-icon",{staticClass:"mr-1 ",attrs:{color:"primary"},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t._v("\n                                    mdi-share-variant\n                                ")]),t._v(" "),i("a",{staticClass:"text-decoration-none mx-1",attrs:{href:"https://www.facebook.com/sharer/sharer.php?u="+t.currentUrl}},[i("v-icon",{staticStyle:{"font-size":"28px"},attrs:{color:"#1b74e4"}},[t._v("mdi-facebook")])],1),t._v(" "),i("a",{staticClass:"text-decoration-none d-block mx-1",staticStyle:{width:"25px",height:"25px"},attrs:{href:"https://t.me/share/url?url="+t.currentUrl}},[i("img",{staticClass:"w-100",attrs:{src:"/public/img/icons/telegram_icon.png"}})])],1),t._v(" "),i("p",{staticClass:"ml-2"},[i("v-icon",{attrs:{color:"primary"}},[t._v("mdi-calendar")]),t._v("\n                                "+t._s(t.news.created_at)+"\n                            ")],1)]),t._v(" "),i("div",{domProps:{innerHTML:t._s(t.news.description)}}),t._v(" "),i("div",{staticClass:"news-content-footer d-flex justify-content-end align-items-center"},[i("div",{staticClass:"d-flex justify-content-center align-items-center"},[i("a",{staticClass:"text-decoration-none mx-2",on:{click:function(e){return t.vote(1)}}},[i("v-icon",{attrs:{color:"primary"}},[t._v("mdi-thumb-up")]),t._v("\n                                    "+t._s(t.news.like)+"\n                                ")],1),t._v(" "),i("a",{staticClass:"text-decoration-none mx-2",on:{click:function(e){return t.vote(0)}}},[i("v-icon",{attrs:{color:"primary"}},[t._v("mdi-thumb-down")]),t._v("\n                                    "+t._s(t.news.dislike)+"\n                                ")],1)]),t._v(" "),i("p",{staticClass:"mx-2"},[t._v("\n                                Кўрилди\n                                "),i("v-icon",{attrs:{color:"primary"}},[t._v("mdi-eye-outline")]),t._v("\n                                "+t._s(t.news.viewed)+"\n                            ")],1)])])],1)]),t._v(" "),i("v-col",{attrs:{cols:"3"}},[i("div",{staticClass:"left_sidebar_widget"},[i("div",{staticClass:"widget_tittle"},[i("h3",[t._v(t._s(t.$t("Сўнги янгиликлар")))])]),t._v(" "),i("div",{staticClass:"single_layout-right"},t._l(t.related_news,(function(e,s){return i("router-link",{key:e.slug+s,staticClass:"news-lenta",attrs:{to:/news/+e.slug}},[i("div",{staticClass:"news-meta"},[i("span",[t._v(t._s(e.created_at))])]),t._v(" "),i("span",{staticClass:"news-lenta__title"},[t._v(t._s(e.title)+" ")])])})),1)])])],1)],1)],1)}),[],!1,null,null,null).exports}}]);