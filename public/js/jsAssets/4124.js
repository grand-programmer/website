"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4124],{74810:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(23645),i=s.n(a)()((function(e){return e[1]}));i.push([e.id,".v-data-table .v-input{font-size:12px}.v-data-table .v-data-table-header th span{color:var(--mycolor);font-weight:700}",""]);const o=i},54124:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var a=s(87757),i=s.n(a),o=s(49666);function n(e,t,s,a,i,o,n){try{var l=e[o](n),c=l.value}catch(e){return void s(e)}l.done?t(c):Promise.resolve(c).then(a,i)}function l(e){return function(){var t=this,s=arguments;return new Promise((function(a,i){var o=e.apply(t,s);function l(e){n(o,a,i,l,c,"next",e)}function c(e){n(o,a,i,l,c,"throw",e)}l(void 0)}))}}const c={name:"customvalue",data:function(){return{breadcrumb_items:[{text:o.Z.t("Асосий саҳифа"),to:"/",disabled:!1,exact:!0},{text:o.Z.t("Хизматлар"),to:"/services",disabled:!1,exact:!0},{text:o.Z.t("Божхона тўловлари бўйича дастлабки қарорлар реестри"),to:"/registries/decisions",disabled:!0,exact:!0}],mydialog:!1,selectedItem:0,hfilters:{terms:"",method:"",hsCode:"",tradeName:"",inDecNum:"",datepicker:[],page:1,size:10},totalDesserts:0,totalDecisions:0,desserts:[],loading:!0,options:{},mfilters:[{name:"Ариза рақами",value:"appNum"},{name:"Етказиб бериш шарти",value:"terms"},{name:"ТИФ ТН коди",value:"hsCode"},{name:"Товарнинг номи",value:"tradName"},{name:"Қарор рақами",value:"inDecNum"},{name:"Қарор қабул қилинган сана",value:"StartDate"},{name:"Қарор қабул қилинган сана",value:"EndDate"},{name:"Аниқлаш усули",value:"method"}],mdata:["appNum","appDate","personFio","terms","termsNm","hsCode","hsName","tradeName","method","inDecNum","inDecDate","inDecEndDate","inDecLocationNm","methodNm","statusNm","commentEnded"],inkoterms:[{text:"EXW",value:"01"},{text:"FCA",value:"02"},{text:"FAS",value:"03"},{text:"FOB",value:"04"},{text:"CFR",value:"05"},{text:"CIF",value:"06"},{text:"CPT",value:"07"},{text:"CIP",value:"08"},{text:"DAF",value:"09"},{text:"DES",value:"10"},{text:"DEQ",value:"11"},{text:"DDU",value:"12"},{text:"DDP",value:"13"},{text:"DAР",value:"14"},{text:"DAT",value:"15"},{text:"---",value:"16"}],usullar:[{text:"1-усул",value:"01"},{text:"2-усул",value:"02"},{text:"3-усул",value:"03"},{text:"4-усул",value:"04"},{text:"5-усул",value:"05"},{text:"6.1-усул",value:"6.1"},{text:"6.2-усул",value:"6.2"},{text:"6.3-усул",value:"6.3"},{text:"6.4-усул",value:"6.4"},{text:"6.5-усул",value:"6.5"}],headers:[{text:"Ариза рақами",align:"start",sortable:!1,value:"appNum"},{text:"Етказиб бериш шарти",value:"termsNm",sortable:!1,width:"150px"},{text:"ТИФ ТН коди",value:"hsCode",sortable:!1},{text:"Товарнинг номи",value:"tradeName",sortable:!1,width:"250px"},{text:"Қарор рақами",value:"inDecNum",sortable:!1},{text:"Қарор қабул қилинган сана",value:"inDecDate",width:"250px",sortable:!1},{text:"Аниқлаш усули",value:"method",align:"center",sortable:!1,width:"120px"}],dec_date:"",menu_dec_date:!1,datepicker:[],decisions:[],v_dec_date:[]}},watch:{options:{handler:function(){console.log(this.hfilters.page),this.hfilters.page=this.options.page,this.hfilters.size=this.options.itemsPerPage,this.getDataFromApi()},deep:!0},hfilters:{handler:function(){this.getDataFromApi()},deep:!0}},methods:{openDialog:function(e){void 0!==this.decisions[e]&&void 0!==this.decisions[e].appNum?(this.selectedItem=e,this.mydialog=!0):this.$toast.error("Хатолик юз берди!")},formatDateRange:function(e){if(e.length>1&&e[1]<e[0]){var t=e[1];e[1]=e[0],e[0]=t}var s="",a="";return s=void 0!==e[1]?"-- "+e[1]+" гача":"",void 0!==e[0]?a=e[0]+" дан":e[0]="",a+s},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.desserts.slice()},changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},getDataFromApi:function(){this.loading=!0,this.getReestr(),this.loading=!1},getReestr:function(){var e=this;setTimeout(l(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.post("/api/v1/ex_api/customprice-registries",e.hfilters).then((function(t){e.decisions=t.data.inDecReestr,e.totalDecisions=t.data.totalItems}));case 2:case"end":return t.stop()}}),t)}))))},fakeApiCall:function(){var e=this;return console.log(this.options),new Promise((function(t,s){var a=e.options,i=a.sortBy,o=a.sortDesc,n=a.page,l=a.itemsPerPage,c=[],r=c.length;1===i.length&&1===o.length&&(c=c.sort((function(e,t){var s=e[i[0]],a=t[i[0]];return o[0]?s<a?1:s>a?-1:0:s<a?-1:s>a?1:0}))),l>0&&(c=c.slice((n-1)*l,n*l)),setTimeout((function(){t({items:c,total:r})}),1e3)}))}}};var r=s(93379),d=s.n(r),v=s(74810),u={insert:"head",singleton:!1};d()(v.Z,u);v.Z.locals;const m=(0,s(51900).Z)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"section"},[s("div",{staticClass:"whitebreadcrumb breadcrumb-site"},[s("v-container",[s("v-breadcrumbs",{attrs:{items:e.breadcrumb_items},scopedSlots:e._u([{key:"divider",fn:function(){return[s("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0}])})],1)],1),e._v(" "),s("div",{staticClass:"page-content"},[s("v-container",[s("v-row",[s("h3",{staticClass:"primary-color m-2 text-center mb-10 fw-bold"},[e._v("Божхона тўловлари бўйича дастлабки қарорлар\n                    реестри")])]),e._v(" "),s("v-row",[s("v-data-table",{staticClass:"elevation-1 p-0",attrs:{headers:e.headers,items:e.decisions,"fixed-header":"",height:"50vh",width:"50vw","calculate-widths":"",options:e.options,"server-items-length":e.totalDecisions,loading:e.loading,"no-data-text":e.$t("Маълумот топилмади"),"footer-props":{"items-per-page-text":e.$t("Сахифадаги элементлар сони"),"items-per-page-all-text":e.$t("Барчаси")},"loading-text":e.$t("Юкланмоқда... Илтимос кутиб туринг")},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"header.name",fn:function(t){var a=t.header;return[s("span",{staticClass:"primary"},[e._v(" "+e._s(a.text.toUpperCase()))])]}},{key:"header",fn:function(t){var a=t.props;return[s("tr",e._l(a.headers,(function(t,a){return s("th",{key:t.text,staticStyle:{position:"sticky",top:"50px","background-color":"#fff"},attrs:{role:"columnheader",scope:"col"}},["termsNm"===t.value?[s("v-autocomplete",{attrs:{filled:"",dense:"","hide-details":"",items:e.inkoterms,clearable:"",color:"primary"},model:{value:e.hfilters.terms,callback:function(t){e.$set(e.hfilters,"terms",t)},expression:"hfilters.terms"}})]:"method"===t.value?[s("v-autocomplete",{attrs:{filled:"",dense:"","hide-details":"",items:e.usullar,clearable:"",color:"primary"},model:{value:e.hfilters.method,callback:function(t){e.$set(e.hfilters,"method",t)},expression:"hfilters.method"}})]:"inDecDate"===t.value?[s("v-menu",{ref:"menu_decdate",refInFor:!0,attrs:{"close-on-content-click":!1,"return-value":e.v_dec_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.v_dec_date=t},"update:return-value":function(t){e.v_dec_date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[s("v-text-field",e._g(e._b({staticClass:"p-2",attrs:{color:"primary","prepend-inner-icon":"mdi-calendar",readonly:"",filled:"",dense:"","hide-details":"",clearable:""},model:{value:e.dec_date,callback:function(t){e.dec_date=t},expression:"dec_date"}},"v-text-field",i,!1),a))]}}],null,!0),model:{value:e.menu_dec_date,callback:function(t){e.menu_dec_date=t},expression:"menu_dec_date"}},[e._v(" "),s("v-date-picker",{attrs:{"no-title":"",range:"",scrollable:"",locale:"en"===e.$i18n.locale?"en-US":"ru-RU"},model:{value:e.hfilters.datepicker,callback:function(t){e.$set(e.hfilters,"datepicker",t)},expression:"hfilters.datepicker"}},[s("v-spacer"),e._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu_dec_date=!1}}},[e._v("\n                                                Бекор қилиш\n                                            ")]),e._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.$refs.menu_decdate[0].save(e.v_dec_date),e.dec_date=e.formatDateRange(e.hfilters.datepicker)}}},[e._v("\n                                                Сақлаш\n                                            ")])],1)],1)]:[s("v-text-field",{staticClass:"m-2",attrs:{color:"primary",name:t.value,clearable:"",filled:"",dense:"","hide-details":""},model:{value:e.hfilters[t.value],callback:function(s){e.$set(e.hfilters,t.value,s)},expression:"hfilters[header.value]"}})]],2)})),0)]}},{key:"body",fn:function(t){var a=t.items;return[s("tbody",e._l(a,(function(t,a){return s("tr",{key:a},e._l(e.headers,(function(i){return s("td",{on:{click:function(t){return e.openDialog(a)}}},["inDecNum"===i.value?[new Date(t.inDecEndDate)<new Date?[s("span",{staticStyle:{"border-radius":"5px",color:"#fff",padding:"5px","background-color":"red"}},[e._v(e._s(t.inDecNum)+"\n                                        ")])]:[s("span",{staticStyle:{"background-color":"green","border-radius":"5px",color:"#fff",padding:"5px"}},[e._v("\n                                            "+e._s(t.inDecNum)+"\n                                        ")])]]:[e._v(e._s(t[i.value]))]],2)})),0)})),0)]}}])})],1)],1)],1),e._v(" "),s("v-dialog",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.decisions[e.selectedItem],expression:"typeof decisions[selectedItem] !=='undefined'"}],attrs:{"max-width":"600"},model:{value:e.mydialog,callback:function(t){e.mydialog=t},expression:"mydialog"}},[s("v-card",{attrs:{elevation:"2"}},[s("v-toolbar",{staticStyle:{"font-size":"20px",color:"#fff"},attrs:{color:"primary"}},[e._v("Дастлабки қарор № "+e._s(void 0!==e.decisions[e.selectedItem]?e.decisions[e.selectedItem].inDecNum:""))]),e._v(" "),s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("span",{staticClass:"fw-bold w-100 d-block"},[e._v("Ариза рақами:")]),e._v(" "+e._s(void 0!==e.decisions[e.selectedItem]?e.decisions[e.selectedItem].appNum:""))]),e._v(" "),s("v-col",{attrs:{cols:"6"}},[s("span",{staticClass:"fw-bold w-100 d-block"},[e._v("Ариза санаси:")]),e._v(" "+e._s(void 0!==e.decisions[e.selectedItem]?e.decisions[e.selectedItem].appDate:""))]),e._v(" "),s("v-col",{attrs:{cols:"6"}},[s("span",{staticClass:"fw-bold w-100 d-block"},[e._v("ТИФ ТН коди :")]),e._v(" "+e._s(void 0!==e.decisions[e.selectedItem]?e.decisions[e.selectedItem].hsCode:"")+" - "+e._s(void 0!==e.decisions[e.selectedItem]?e.decisions[e.selectedItem].hsName:""))]),e._v(" "),s("v-col",{attrs:{cols:"6"}},[s("span",{staticClass:"fw-bold w-100 d-block"},[e._v("Аризачи фамилияси, исми, шарифи :")]),e._v(" "+e._s(void 0!==e.decisions[e.selectedItem]?e.decisions[e.selectedItem].personFio:""))]),e._v(" "),s("v-col",{attrs:{cols:"6"}},[s("span",{staticClass:"fw-bold w-100 d-block"},[e._v("Товарни етказиб бериш усули :")]),e._v(" "+e._s(void 0!==e.decisions[e.selectedItem]?e.decisions[e.selectedItem].termsNm:""))]),e._v(" "),s("v-col",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.decisions[e.selectedItem]&&e.decisions[e.selectedItem].tradeName,expression:"typeof decisions[selectedItem] !=='undefined' && decisions[selectedItem]['tradeName'] "}],attrs:{cols:"6"}},[s("span",{staticClass:"fw-bold w-100 d-block"},[e._v("Товар тижорат номи:")]),e._v(" "+e._s(void 0!==e.decisions[e.selectedItem]?e.decisions[e.selectedItem].tradeName:""))]),e._v(" "),s("v-col",{attrs:{cols:"6"}},[s("span",{staticClass:"fw-bold w-100 d-block"},[e._v("Божхона қийматини аниқлаш усули:")]),e._v(" "+e._s(void 0!==e.decisions[e.selectedItem]?e.decisions[e.selectedItem].methodNm:""))]),e._v(" "),s("v-col",{attrs:{cols:"6"}},[s("span",{staticClass:"fw-bold w-100 d-block"},[e._v("Кўриб чиққан бошқарма:")]),e._v(" "+e._s(void 0!==e.decisions[e.selectedItem]?e.decisions[e.selectedItem].inDecLocationNm:""))]),e._v(" "),s("v-col",{attrs:{cols:"6"}},[s("span",{staticClass:"fw-bold w-100 d-block"},[e._v("Қарор кабул қилинган сана:")]),e._v(" "+e._s(void 0!==e.decisions[e.selectedItem]?e.decisions[e.selectedItem].inDecDate:""))]),e._v(" "),s("v-col",{attrs:{cols:"6"}},[s("span",{staticClass:"fw-bold w-100 d-block"},[e._v("Қарор амал қилиш муддати:")]),e._v(" "+e._s(void 0!==e.decisions[e.selectedItem]?e.decisions[e.selectedItem].inDecEndDate:""))])],1)],1),e._v(" "),s("v-card-actions",{staticClass:"d-flex justify-content-end"},[s("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.mydialog=!1}}},[e._v("Ёпиш")])],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);